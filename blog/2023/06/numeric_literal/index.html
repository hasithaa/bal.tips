<!doctype html><html><head><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><meta name=google-site-verification content="A0g97ITk57E9BPuBATtgqskZ6Nc2vr-ZLVMfZnMqJl0"><meta name=publisher content="bal.tips by Hasitha Aravinda"><meta name=copyright content="bal.tips by Hasitha Aravinda © 2022 - 2023"><meta name=keywords content="Ballerina Language, Numeric Type System, Decimal Type, Float Type, Int Type, JSON support in Ballerina, Language Practices, Structure-based Type Checking, Union Types in Ballerina, Literal Representation in Ballerina, Ballerina Performance, Ballerina Auto-Casting and Conversion, Numeric Literal Algorithm in Ballerina, Ballerina Runtime Handling"><meta name=description content="Explore the journey of designing the numeric type system for Ballerina Lang, a modern programming language originally developed for network integration. Learn about the history, the challenges, the solutions adopted, and how the language handles numeric literals, conversions, and performance implications. Get insights into the logic behind the type system and the trade-offs made for striking a balance between ease of use and performance"><link rel=icon href=/favicon.png type=image/x-icon><meta name=author content="Hasitha Aravinda"><meta itemprop=name content="Designing Numeric Literals for Ballerina"><meta itemprop=description content="Explore the journey of designing the numeric type system for Ballerina Lang, a modern programming language originally developed for network integration. Learn about the history, the challenges, the solutions adopted, and how the language handles numeric literals, conversions, and performance implications. Get insights into the logic behind the type system and the trade-offs made for striking a balance between ease of use and performance"><meta itemprop=datePublished content="2023-06-05T00:00:00+00:00"><meta itemprop=dateModified content="2023-06-05T00:00:00+00:00"><meta itemprop=wordCount content="946"><meta itemprop=image content="http://bal.tips"><meta itemprop=keywords content><meta property="og:title" content="Designing Numeric Literals for Ballerina"><meta property="og:description" content="Explore the journey of designing the numeric type system for Ballerina Lang, a modern programming language originally developed for network integration. Learn about the history, the challenges, the solutions adopted, and how the language handles numeric literals, conversions, and performance implications. Get insights into the logic behind the type system and the trade-offs made for striking a balance between ease of use and performance"><meta property="og:type" content="article"><meta property="og:url" content="http://bal.tips/blog/2023/06/numeric_literal/"><meta property="og:image" content="http://bal.tips"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-06-05T00:00:00+00:00"><meta property="article:modified_time" content="2023-06-05T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://bal.tips/blog/2023/06/numeric_literal.png"><meta property="og:image" content="http://bal.tips/blog/2023/06/numeric_literal.png"><link rel=image_src href=http://bal.tips/blog/2023/06/numeric_literal.png><meta name=twitter:title content="Designing Numeric Literals for Ballerina"><meta name=twitter:description content="Explore the journey of designing the numeric type system for Ballerina Lang, a modern programming language originally developed for network integration. Learn about the history, the challenges, the solutions adopted, and how the language handles numeric literals, conversions, and performance implications. Get insights into the logic behind the type system and the trade-offs made for striking a balance between ease of use and performance"><meta name=twitter:site content="@HasithaAravinda"><link rel=canonical href=https://www.reddit.com/r/ProgrammingLanguages/comments/13zjq3y/ballerina_numerical_types_learning_points/><title>Ballerina Coding Tips | Designing Numeric Literals for Ballerina</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel=stylesheet><script async src="https://www.googletagmanager.com/gtag/js?id=G-T6DGTL873C"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-T6DGTL873C")</script><link rel=stylesheet href=/scss/theme.min.css><script src=/js/theme.min.js></script><meta name=search-summary content="Explore the journey of designing the numeric type system for Ballerina Lang, a modern programming language originally developed for network integration. Learn about the history, the challenges, the solutions adopted, and how the language handles numeric literals, conversions, and performance implications. Get insights into the logic behind the type system and the trade-offs made for striking a balance between ease of use and performance" data-pagefind-default-meta=summary[content]></head><body class="mx-2 mt-2 bg-light text-dark bg-gradient" id=content-body><a href=#top title="Page Top"><span id=top></span></a><header><nav class="navbar navbar-expand-lg navbar-light bg-light text-dark"><div class=container-fluid><a class=navbar-brand href=http://bal.tips title="Ballerina Coding Tips"><img src=/images/logo.png alt=Logo width=40 height=40 class="d-inline-block align-text-top" title="Ballerina Coding Tips"></a>
<a class=navbar-brand href=http://bal.tips title="Ballerina Coding Tips">Ballerina Coding Tips</a>
<button class="navbar-toggler px-0" type=button data-mdb-toggle=collapse data-mdb-target=#mainMenu aria-controls=mainMenu aria-expanded=false aria-label="Toggle navigation">
<i class="bi bi-list"></i></button><div class="collapse navbar-collapse" id=mainMenu><ul class="navbar-nav ms-auto mx-3 mb-2 mb-lg-0"><li class=nav-item><a class=nav-link href=/ title=Home><i class="bi bi-house-door"></i>
Home</a></li><li class="nav-item dropdown dropdown-hover position-static"><a class="nav-link dropdown-toggle" title=Guides href=# id=menu_guides role=button data-mdb-toggle=dropdown aria-expanded=false><i class="bi bi-book"></i>
Guides</a><div class="dropdown-menu w-100 mt-0" aria-labelledby=menu_guides style=ßborder-top-left-radius:0;border-top-right-radius:0><div class=container><div class="row my-4"><div class="col-md-6 col-lg-3 mb-3 mb-lg-0"><div class="list-group list-group-flush"><p class="mb-0 list-group-item text-uppercase font-weight-bold"><i class='bi bi-collection'></i> Introduction</p><a class="list-group-item list-group-item-action" href=/docs/introduction/basics/ title="Hello World - Language Basics"><i class="bi bi-lightbulb-fill"></i>
Hello World - Language Basics</a></div></div><div class="col-md-6 col-lg-3 mb-3 mb-lg-0"><div class="list-group list-group-flush"><p class="mb-0 list-group-item text-uppercase font-weight-bold"><i class='bi bi-cloud-arrow-up-fill'></i> DevOps</p><a class="list-group-item list-group-item-action" href=/docs/devops/github/ballerina-action/ title="Ballerina Github Actions"><i class="bi bi-caret-right-fill"></i>
Ballerina Github Actions</a></div></div></div></div></div></li><li class="nav-item dropdown dropdown-hover position-static"><a class="nav-link dropdown-toggle" title=Syntax href=# id=menu_syntax role=button data-mdb-toggle=dropdown aria-expanded=false><i class="bi bi-braces"></i>
Syntax</a><div class="dropdown-menu w-100 mt-0" aria-labelledby=menu_syntax style=ßborder-top-left-radius:0;border-top-right-radius:0><div class=container><div class="row my-4"><div class="col-md-6 col-lg-3 mb-3 mb-lg-0"><div class="list-group list-group-flush"><p class="mb-0 list-group-item text-uppercase font-weight-bold"><i class='bi bi-collection'></i> Basic Concepts</p><a class="list-group-item list-group-item-action" href=/docs/syntax/identifiers/ title=Identifiers><i class="bi bi-caret-right-fill"></i>
Identifiers</a>
<a class="list-group-item list-group-item-action" href=/docs/syntax/comments/ title=Comments><i class="bi bi-caret-right-fill"></i>
Comments</a>
<a class="list-group-item list-group-item-action" href=/docs/expressions/ title=Expressions><i class="bi bi-caret-right-fill"></i>
Expressions</a></div></div><div class="col-md-6 col-lg-3 mb-3 mb-lg-0"><div class="list-group list-group-flush"><p class="mb-0 list-group-item text-uppercase font-weight-bold"><i class='bi bi-collection'></i> Expressions</p><a class="list-group-item list-group-item-action" href=/docs/expressions/literals/ title=Literal><i class="bi bi-caret-right-fill"></i>
Literal</a>
<a class="list-group-item list-group-item-action" href=/docs/expressions/templates/ title=Templates><i class="bi bi-caret-right-fill"></i>
Templates</a></div></div><div class="col-md-6 col-lg-3 mb-3 mb-lg-0"><div class="list-group list-group-flush"><p class="mb-0 list-group-item text-uppercase font-weight-bold"><i class='bi bi-collection'></i> Literals</p><a class="list-group-item list-group-item-action" href=/docs/expressions/literals/nil/ title="Nil Literal"><i class="bi bi-caret-right-fill"></i>
Nil Literal</a>
<a class="list-group-item list-group-item-action" href=/docs/expressions/literals/boolean/ title="Boolean Literal"><i class="bi bi-caret-right-fill"></i>
Boolean Literal</a>
<a class="list-group-item list-group-item-action" href=/docs/expressions/literals/int/ title="Integer Literal"><i class="bi bi-caret-right-fill"></i>
Integer Literal</a>
<a class="list-group-item list-group-item-action" href=/docs/expressions/literals/float/ title="Float Literal"><i class="bi bi-caret-right-fill"></i>
Float Literal</a>
<a class="list-group-item list-group-item-action" href=/docs/expressions/literals/string/ title="String Literal"><i class="bi bi-caret-right-fill"></i>
String Literal</a>
<a class="list-group-item list-group-item-action" href=/docs/expressions/literals/byte-array/ title="Byte Array Literal"><i class="bi bi-caret-right-fill"></i>
Byte Array Literal</a></div></div><div class="col-md-6 col-lg-3 mb-3 mb-lg-0"><div class="list-group list-group-flush"><p class="mb-0 list-group-item text-uppercase font-weight-bold"><i class='bi bi-collection'></i> Templates</p><a class="list-group-item list-group-item-action" href=/docs/expressions/templates/string/ title="String Template"><i class="bi bi-caret-right-fill"></i>
String Template</a>
<a class="list-group-item list-group-item-action" href=/docs/expressions/templates/xml/ title="XML Template"><i class="bi bi-caret-right-fill"></i>
XML Template</a>
<a class="list-group-item list-group-item-action" href=/docs/expressions/templates/raw/ title="Raw Template"><i class="bi bi-caret-right-fill"></i>
Raw Template</a></div></div></div></div></div></li><li class="nav-item dropdown dropdown-hover position-static"><a class="nav-link dropdown-toggle" title=Types href=# id=menu_types role=button data-mdb-toggle=dropdown aria-expanded=false><i class="bi bi-fonts"></i>
Types</a><div class="dropdown-menu w-100 mt-0" aria-labelledby=menu_types style=ßborder-top-left-radius:0;border-top-right-radius:0><div class=container><div class="row my-4"><div class="col-md-6 col-lg-3 mb-3 mb-lg-0"><div class="list-group list-group-flush"><p class="mb-0 list-group-item text-uppercase font-weight-bold"><i class='bi bi-fonts'></i> Type System</p><a class="list-group-item list-group-item-action" href=/docs/types/values/ title="All Values"><i class="bi bi-caret-right-fill"></i>
All Values</a></div></div><div class="col-md-6 col-lg-3 mb-3 mb-lg-0"><div class="list-group list-group-flush"><p class="mb-0 list-group-item text-uppercase font-weight-bold"><i class='bi bi-fonts'></i> Simple Basic Types</p><a class="list-group-item list-group-item-action" href=/docs/types/simple/boolean/ title=Boolean><i class="bi bi-caret-right-fill"></i>
Boolean</a>
<a class="list-group-item list-group-item-action" href=/docs/types/simple/float/ title=Float><i class="bi bi-caret-right-fill"></i>
Float</a>
<a class="list-group-item list-group-item-action" href=/docs/types/simple/decimal/ title=Decimal><i class="bi bi-caret-right-fill"></i>
Decimal</a></div></div><div class="col-md-6 col-lg-3 mb-3 mb-lg-0"><div class="list-group list-group-flush"><p class="mb-0 list-group-item text-uppercase font-weight-bold"><i class='bi bi-arrow-repeat'></i> Type Conversion</p><a class="list-group-item list-group-item-action" href=/docs/types/conversion/numeric/ title="Numeric Conversion"><i class="bi bi-caret-right-fill"></i>
Numeric Conversion</a></div></div><div class="col-md-6 col-lg-3 mb-3 mb-lg-0"><div class="list-group list-group-flush"><p class="mb-0 list-group-item text-uppercase font-weight-bold"><i class='bi bi-fonts'></i> Type Checking Algorithms</p><a class="list-group-item list-group-item-action" href=/docs/types/rules/numeric-literals/ title="Type of a Numeric Value"><i class="bi bi-caret-right-fill"></i>
Type of a Numeric Value</a></div></div></div></div></div></li><li class="nav-item dropdown dropdown-hover position-static"><a class="nav-link dropdown-toggle" title=Modules href=# id=menu_module role=button data-mdb-toggle=dropdown aria-expanded=false><i class="bi bi-boxes"></i>
Modules</a><div class="dropdown-menu w-100 mt-0" aria-labelledby=menu_module style=ßborder-top-left-radius:0;border-top-right-radius:0><div class=container><div class="row my-4"><div class="col-md-6 col-lg-3 mb-3 mb-lg-0"><div class="list-group list-group-flush"><p class="mb-0 list-group-item text-uppercase font-weight-bold"><i class='bi bi-boxes'></i> Ballerina Modules</p><a class="list-group-item list-group-item-action" href=/docs/langlib/ title="Language Library"><i class="bi bi-boxes"></i>
Language Library</a></div></div><div class="col-md-6 col-lg-3 mb-3 mb-lg-0"><div class="list-group list-group-flush"><p class="mb-0 list-group-item text-uppercase font-weight-bold"><i class='bi bi-boxes'></i> Language Library</p><a class="list-group-item list-group-item-action" href=/docs/langlib/array/ title=lang.array><i class='bi bi-box'></i>
lang.array</a>
<a class="list-group-item list-group-item-action" href=/docs/langlib/boolean/ title=lang.boolean><i class='bi bi-box'></i>
lang.boolean</a>
<a class="list-group-item list-group-item-action" href=/docs/langlib/decimal/ title=lang.decimal><i class='bi bi-box'></i>
lang.decimal</a>
<a class="list-group-item list-group-item-action" href=/docs/langlib/float/ title=lang.float><i class='bi bi-box'></i>
lang.float</a></div></div></div></div></div></li><li class=nav-item><a class=nav-link href=/blog/ title=Blog><i class="bi bi-journal"></i>
Blog</a></li></ul><form class=d-flex role=search><input class="form-control me-2" type=search placeholder=Search id=siteSearch aria-label=Search>
<button class=btn type=submit id=search-btn>Search</button></form></div></div></nav></header><div class="d-flex mt-3 col-lg-11 m-auto"><div id=content class="container container-lg justify-content-center m-auto" data-mdb-spy=scroll data-mdb-target=#scrollspy-collapsible data-mdb-offset=0 class=scrollspy-example><div hidden><p hidden data-pagefind-filter=Types>Int</p><p hidden data-pagefind-filter=Types>Float</p><p hidden data-pagefind-filter=Types>Decimal</p><p hidden data-pagefind-filter=Types>Byte</p><p hidden data-pagefind-filter="Language Syntax">Literals</p><p hidden data-pagefind-filter="Language Features">Compiler</p><p hidden data-pagefind-filter="Language Features">Type System</p><p hidden data-pagefind-filter="Language Features">JBallerina Runtime</p></div><div class=post-header><div class="d-flex justify-content align-items-center"><div class="text-secondary text-reset"><h4><span class="badge badge-primary">Blog Post</span></h4></div></div></div><div class=row><div class="content col-lg-9"><a class="text-reset m-5 text-center" href=#designing-numeric-literals-for-ballerina title="Designing Numeric Literals for Ballerina"><h1 id=designing-numeric-literals-for-ballerina>Designing Numeric Literals for Ballerina</h1></a><p>Today, I&rsquo;d like to share our experience and lessons learned while designing the numeric type system for <a class="text-reset text-decoration-underline" href=https://ballerina.io>Ballerina Lang</a>.</p><a class="text-reset m-4" href=#history title=History><h2 id=history>History</h2></a><p>In the early days of Ballerina, we adopted <code>int</code>, <code>long</code>, <code>byte</code>, <code>float</code>, and <code>double</code> as dedicated types for each common case. At this stage, we were primarily drawing inspiration from other languages and didn&rsquo;t fully consider the implications of having numerous numerical data types. Our approach was greatly influenced by Java because at that time Ballerina was initially a JVM-based interpreted language.</p><p>However, we soon realized that maintaining separate data types was burdensome for our users. Ballerina&rsquo;s primary target audience were not hardcore developers, but individuals who primarily used to work with DSL (Domain Specific Languages) and low-code/no-code editors. At this level of development, the complexity of having multiple types was a major drawback and which led to a lot of confusion among developers. (when to use <code>int</code> vs <code>long</code> vs <code>byte</code> vs <code>float</code> vs <code>double</code> etc.)</p><p>Concurrently, we identified a requirement to introduce <code>decimal</code> as a primary type, given Ballerina&rsquo;s usage for network integration and the handling of financial data - one of its primary use cases. Consequently, the inclusion of a more precise type like <code>decimal</code> became a must. Another requirement was to support decimal is to support pure JSON numbers.</p><p>Considering these new requirements, we revisited our approach and looked into modern language practices. Simultaneously, we adopted a structure-based type checking system which greatly simplified our problem.</p><a class="text-reset m-4" href=#solution title=Solution><h2 id=solution>Solution</h2></a><p>We ended up with three built-in basic types: <code>int</code>, <code>float</code>, and <code>decimal</code>.</p><ul><li><code>int</code> - Represents 64-bit signed integer values</li><li><code>float</code> - Represents 64-bit IEEE 754-2008 binary floating-point numbers</li><li><code>decimal</code> - Represents 128-bit IEEE 754-2008 decimal floating-point values</li></ul><p>It is simple to explain and supports common use cases (I will cover to Performance aspects later. :) ). With help of union types, we defined other types such as <code>byte</code>, <code>signed32</code>, <code>unsigned32</code>, <code>signed16</code>, <code>unsigned16</code>, <code>signed8</code>, and <code>unsigned8</code> as subtypes of <code>int</code>. This was done to reduce complexity and to still provide a range of types for different advanced use cases. For example, the <code>byte</code> type is defined as a union of integers between 0 and 255, inclusive. The same principle applies to the other integer subtypes.</p><p>This design facilitated better support for JSON. Ballerina defines the json type as a union of <code>()|int|float|decimal|boolean|string|json[]|map&lt;json></code>, preferring <code>decimal</code> as the default numeric type when constructing a json value from a string.</p><p>Another design decision we made was to not to support implicit conversion among numerical types. I will discuss this in detail next.</p><p>The basic idea is to make the static typing simple and easy to understand. But at runtime, with enough information, we can represent a value in best optimized way, which is an implementation detail and mostly developers don&rsquo;t want to know.</p><a class="text-reset m-4" href=#working-with-literals title="Working with Literals"><h2 id=working-with-literals>Working with Literals</h2></a><p>In Ballerina, a value written as a numeric literal always represents a specific type, which is determined by the literal itself. The type of a literal can be one of the basic types, such as <code>int</code>, <code>float</code>, or <code>decimal</code>.</p><p>For example, the literal 10 represents the integer value</p><p>10, and its basic type is <code>int</code>. However, in some contexts, the same literal 10 can also represent a floating-point value 10.0 or a decimal value 10. Depending on the context, the compiler determines the appropriate type of the literal to use.</p><p>To determine the type of numeric literals, we have defined a 3-step algorithm. To help explain this, I&rsquo;ve included a link to a <a class="text-reset text-decoration-underline" href=https://bal.tips/docs/types/rules/numeric-literals/#algorithm>playground</a> that visualizes the process.</p><a class="text-reset m-4" href=#auto-casting-and-conversion title="Auto-Casting and Conversion"><h2 id=auto-casting-and-conversion>Auto-Casting and Conversion</h2></a><p>Ballerina does not support implicit conversion among numerical types. This safeguard helps prevent unintended loss of precision and unexpected program behavior.</p><p>For example, the following code would result in a compile-time error:</p><div><div class="tip-code-full d-none table-responsive rounded rounded-3 shadow-3 m-auto text-dark col-lg-9 col-12 bg-code mb-3"><div class=p-2><div class=highlight><div style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=full-numeric-error-1><a style=outline:none;text-decoration:none;color:inherit href=#full-numeric-error-1>1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=full-numeric-error-2><a style=outline:none;text-decoration:none;color:inherit href=#full-numeric-error-2>2</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=full-numeric-error-3><a style=outline:none;text-decoration:none;color:inherit href=#full-numeric-error-3>3</a>
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ballerina data-lang=ballerina><span style=display:flex><span><span style=color:#078;font-weight:700>float</span> x <span style=color:#555>=</span> <span style=color:#f60>10.0</span><span style=color:#555>;</span>
</span></span><span style=display:flex><span><span style=color:#078;font-weight:700>decimal</span> y <span style=color:#555>=</span> <span style=color:#f60>10</span> <span style=color:#555>+</span> x<span style=color:#555>;</span> <span style=color:#09f;font-style:italic>// error
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span><span style=color:#078;font-weight:700>int</span> z <span style=color:#555>=</span> <span style=color:#f60>1.0</span><span style=color:#555>;</span> <span style=color:#555>//</span> <span style=color:#069;font-weight:700>error</span> <span style=color:#555>-</span> floating point literal on the right<span style=color:#555>-</span>hand side<span style=color:#555>.</span></span></span></code></pre></td></tr></table></div></div></div><a class="link px-2" data-mdb-toggle=collapse data-mdb-target=#collapsibleDivnumeric-error aria-expanded=false aria-controls=collapsibleDiv><i class="bi bi-exclamation-triangle"></i> Compilation Error</a><div class="collapse p-2" id=collapsibleDivnumeric-error><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-BashSession data-lang=BashSession><span style=display:flex><span><span style=color:#aaa>Compiling source
</span></span></span><span style=display:flex><span><span style=color:#aaa>	numeric-error.bal
</span></span></span><span style=display:flex><span><span style=color:#aaa>ERROR [numeric-error.bal:(2:13,2:19)] operator &#39;+&#39; not defined for &#39;decimal&#39; and &#39;float&#39;
</span></span></span><span style=display:flex><span><span style=color:#aaa>ERROR [numeric-error.bal:(3:9,3:12)] incompatible types: expected &#39;int&#39;, found &#39;float&#39;
</span></span></span><span style=display:flex><span><span style=color:#aaa>error: compilation contains errors
</span></span></span></code></pre></div><i class="bi bi-terminal"></i>&nbsp;<code class=text-primary>bal version</code><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-BashSession data-lang=BashSession><span style=display:flex><span><span style=color:#aaa>Ballerina 2201.6.0 (Swan Lake Update 6)
</span></span></span></code></pre></div></div></div><div class="tip-code-simple d-none table-responsive rounded rounded-3 shadow-3 m-auto text-dark col-lg-9 col-12 bg-code mb-3"><div class="p-2 overflow-auto"><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ballerina data-lang=ballerina><span style=display:flex><span><span style=color:#09f;font-style:italic>// Partial Code. Change View <a href=#offcanvasRight data-mdb-toggle=offcanvas data-mdb-target=#offcanvasRight aria-controls=offcanvasRight><i class='bi bi-sliders'></i></a> to see full code.
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span><span style=color:#078;font-weight:700>float</span> x <span style=color:#555>=</span> <span style=color:#f60>10.0</span><span style=color:#555>;</span>
</span></span><span style=display:flex><span><span style=color:#078;font-weight:700>decimal</span> y <span style=color:#555>=</span> <span style=color:#f60>10</span> <span style=color:#555>+</span> x<span style=color:#555>;</span> <span style=color:#09f;font-style:italic>// error
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span><span style=color:#078;font-weight:700>int</span> z <span style=color:#555>=</span> <span style=color:#f60>1.0</span><span style=color:#555>;</span> <span style=color:#555>//</span> <span style=color:#069;font-weight:700>error</span> <span style=color:#555>-</span> floating point literal on the right<span style=color:#555>-</span>hand side<span style=color:#555>.</span></span></span></code></pre></div></div></div><div class="tip-code-highlight d-none table-responsive rounded rounded-3 shadow-3 m-auto text-dark col-lg-9 col-12 bg-code mb-3"><div class="p-2 overflow-auto"><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ballerina data-lang=ballerina><span style=display:flex><span><span style=color:#09f;font-style:italic>// Highlights Only. Change View <a href=#offcanvasRight data-mdb-toggle=offcanvas data-mdb-target=#offcanvasRight aria-controls=offcanvasRight><i class='bi bi-sliders'></i></a> to see full code.
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span><span style=color:#078;font-weight:700>float</span> x <span style=color:#555>=</span> <span style=color:#f60>10.0</span><span style=color:#555>;</span>
</span></span><span style=display:flex><span><span style=color:#078;font-weight:700>decimal</span> y <span style=color:#555>=</span> <span style=color:#f60>10</span> <span style=color:#555>+</span> x<span style=color:#555>;</span> <span style=color:#09f;font-style:italic>// error
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span><span style=color:#078;font-weight:700>int</span> z <span style=color:#555>=</span> <span style=color:#f60>1.0</span><span style=color:#555>;</span> <span style=color:#555>//</span> <span style=color:#069;font-weight:700>error</span> <span style=color:#555>-</span> floating point literal on the right<span style=color:#555>-</span>hand side<span style=color:#555>.</span></span></span></code></pre></div></div></div></div><p>However, we do allow safe type inference from literals, as seen in float x = 1. This rationale is clarified in the earlier mentioned algorithm.</p><p>So, while we can&rsquo;t entirely prevent misuse through adding a cast and the like, Ballerina&rsquo;s strict typing and explicit conversion requirements at least alert the user to potential issues during compile time. This is particularly important for our main focus - network integration - where identifying such issues at compile time rather than runtime is crucial.</p><a class="text-reset m-4" href=#performance-implications title="Performance Implications"><h2 id=performance-implications>Performance Implications</h2></a><p>It&rsquo;s clear that using the new model to represent an int32 list requires the allocation of an int64 list, which isn&rsquo;t optimal. For a byte list, this could even be considered overkill. However, in order to maintain performance, byte[] is specially handled in the runtime.</p><p>While there are future plans to allocate memory based on static type for other integer types, currently they&rsquo;re all modeled as int64. Given that Ballerina&rsquo;s target applications are not system applications (such as OS development, low-level apps), this is a known compromise we&rsquo;ve had to make to strike a balance between ease of use and performance.</p><hr><p>This blog originally published on <a class="text-reset text-decoration-underline" href=https://www.reddit.com/r/ProgrammingLanguages/comments/13zjq3y/ballerina_numerical_types_learning_points/>Reddit /r/ProgrammingLanguages/</a></p></div><div class="d-md-none d-lg-block col-lg-3"><div class="text-secondary text-reset"><i class="bi bi-calendar-event"></i>&nbsp;June 5, 2023</div><hr><h6 class="offcanvas-title py-3"><i class="bi bi-list-columns"></i> Table of Content</h6><div><div class="toc text-muted text-dark p-2" id=scrollspy-collapsible><nav id=TableOfContents><ul><li><a href=#designing-numeric-literals-for-ballerina>Designing Numeric Literals for Ballerina</a><ul><li><a href=#history>History</a></li><li><a href=#solution>Solution</a></li><li><a href=#working-with-literals>Working with Literals</a></li><li><a href=#auto-casting-and-conversion>Auto-Casting and Conversion</a></li><li><a href=#performance-implications>Performance Implications</a></li></ul></li></ul></nav></div></div><hr><h6 class=py-3><i class="bi bi-tags-fill"></i> Key Words</h6><div class="text-reset text-dark p-2 d-flex justify-content-center justify-content-lg-between flex-wrap"><a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on Int" href="/search/?q=Int">Int</a>
<a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on Float" href="/search/?q=Float">Float</a>
<a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on Decimal" href="/search/?q=Decimal">Decimal</a>
<a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on Byte" href="/search/?q=Byte">Byte</a>
<a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on Literals" href="/search/?q=Literals">Literals</a>
<a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on Compiler" href="/search/?q=Compiler">Compiler</a>
<a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on Type System" href="/search/?q=Type%20System">Type System</a>
<a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on JBallerina Runtime" href="/search/?q=JBallerina%20Runtime">JBallerina Runtime</a></div><hr><div class=te><blockquote>📃 This article was originally published on <a href=https://www.reddit.com/r/ProgrammingLanguages/comments/13zjq3y/ballerina_numerical_types_learning_points/ title="See Original Article" target=_blank>Reddit /r/ProgrammingLanguages/</a>.</blockquote></div></div></div></div></div><div class="position-fixed bottom-0 end-0 p-3 pb-5"><button class="btn btn-primary" type=button title="To Top" onclick='window.scrollTo({top:0,behavior:"smooth"})'>
<i class="bi bi-caret-up-fill me-2"></i>Top</a></button>
<button class="btn btn-primary" type=button data-mdb-toggle=offcanvas data-mdb-target=#offcanvasRight aria-controls=offcanvasRight>
<i class="bi bi-sliders"></i></button><div class="offcanvas offcanvas-end bg-light text-dark" data-mdb-backdrop=false tabindex=-1 data-mdb-scroll=true id=offcanvasRight aria-labelledby=offcanvasRightLabel><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasRightLabel>Designing Numeric Literals for Ballerina</h5><button type=button class=btn-close data-mdb-dismiss=offcanvas aria-label=Close></button></div><div class=offcanvas-body><div class="pt-2 d-md-block d-lg-none"><div class="text-secondary text-reset"><i class="bi bi-calendar-event"></i>&nbsp;June 5, 2023</div><hr><h6 class="offcanvas-title py-3"><i class="bi bi-list-columns"></i> Table of Content</h6><div><div class="toc text-muted text-dark p-2" id=scrollspy-collapsible><nav id=TableOfContents><ul><li><a href=#designing-numeric-literals-for-ballerina>Designing Numeric Literals for Ballerina</a><ul><li><a href=#history>History</a></li><li><a href=#solution>Solution</a></li><li><a href=#working-with-literals>Working with Literals</a></li><li><a href=#auto-casting-and-conversion>Auto-Casting and Conversion</a></li><li><a href=#performance-implications>Performance Implications</a></li></ul></li></ul></nav></div></div><hr><h6 class=py-3><i class="bi bi-tags-fill"></i> Key Words</h6><div class="text-reset text-dark p-2 d-flex justify-content-center justify-content-lg-between flex-wrap"><a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on Int" href="/search/?q=Int">Int</a>
<a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on Float" href="/search/?q=Float">Float</a>
<a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on Decimal" href="/search/?q=Decimal">Decimal</a>
<a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on Byte" href="/search/?q=Byte">Byte</a>
<a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on Literals" href="/search/?q=Literals">Literals</a>
<a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on Compiler" href="/search/?q=Compiler">Compiler</a>
<a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on Type System" href="/search/?q=Type%20System">Type System</a>
<a role=button class="btn btn-secondary btn-text-transform-none p-2 m-1" title="Search more on JBallerina Runtime" href="/search/?q=JBallerina%20Runtime">JBallerina Runtime</a></div><hr><div class=te><blockquote>📃 This article was originally published on <a href=https://www.reddit.com/r/ProgrammingLanguages/comments/13zjq3y/ballerina_numerical_types_learning_points/ title="See Original Article" target=_blank>Reddit /r/ProgrammingLanguages/</a>.</blockquote></div></div><hr><div class=pt-2><h6 class=offcanvas-title><i class="bi bi-bookmark"></i> Navigation</h6><div class="pt-1 m-2 d-flex justify-content-center justify-content-lg-between"><a role=button class="btn btn-secondary btn-text-transform-none" href=http://bal.tips/docs/syntax/comments/ title="How to Use Comments"><i class="bi bi-caret-left-fill me-2"></i> Back</a>
<a role=button class="btn btn-secondary btn-text-transform-none" href=http://bal.tips/docs/types/ title="Type and Values">Next <i class="bi bi-caret-right-fill ms-2"></i></a></div></div><hr><div id=siteSettings class=pt-2><h6 class=offcanvas-title><i class="bi bi-sliders"></i> Site Settings</h6><div class=pt-2><p>Site Theme</p><div class="btn-group m-2 d-flex justify-content-center justify-content-lg-between shadow-0" id=theme_view><input value=theme-light type=radio class=btn-check name=theme-options id=radioThemeLight autocomplete=off checked>
<label class="btn btn-secondary" for=radioThemeLight><span class="bi bi-brightness-high-fill"></span>Light</label>
<input value=theme-dark type=radio class=btn-check name=theme-options id=radioThemeDark autocomplete=off>
<label class="btn btn-secondary" for=radioThemeDark><span class="bi bi-moon-stars-fill"></span> Dark</label></div><p class=pt-2>Source Code Density</p><div class="btn-group m-2 d-flex justify-content-center justify-content-lg-between shadow-0" id=code_view><div><input value=tip-code-full type=radio class=btn-check name=source-options id=radioSourceFull autocomplete=off>
<label class="btn btn-secondary" for=radioSourceFull><i class="bi bi-chevron-bar-expand"></i> Full</label></div><div><input value=tip-code-simple type=radio class=btn-check name=source-options id=radioSourceSimple autocomplete=off>
<label class="btn btn-secondary" for=radioSourceSimple><i class="bi bi-chevron-bar-contract"></i> Simple</label></div><div><input value=tip-code-highlight type=radio class=btn-check name=source-options id=radioSourceHighligh autocomplete=off checked>
<label class="btn btn-secondary" for=radioSourceHighligh><i class="bi bi-stars"></i> Highlights</label></div></div></div></div></div></div></div><footer class="text-center text-lg-start text-muted mt-5"><section class="d-flex justify-content-center mt-2 mb-2 justify-content-lg-between d-none" id=privacyNotice><div class="note note-info m-auto shadow-5"><div><span class=m-3>👉 🍪 This site utilizes Google Analytics and cookies to enhance your browsing experience.
By using this site, you acknowledge and accept the usage of these technologies. 🙏 Thank you!</span>
<button type=button class="btn btn-primary ms-auto" id=ga-agree-button>I am Ok</button>
<button type=button class="btn btn-secondary me-2" id=ga-decline-button>Decline</button></div></section><section class="border-top bg-light"><div class="container text-center text-md-start mt-5"><div class="row mt-3"><div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4"><h6 class="text-uppercase fw-bold mb-4"><i class="fas fa-gem me-3 text-secondary"></i>Ballerina Coding Tips</h6><p class="text-wrap text-start">&ldquo;Ballerina Coding Tips&rdquo; provides useful tips and code snippets for Ballerina programmers.
Despite being a fairly new language, Ballerina has numerous features that may be unknown to developers.
This blog aims to share some of these features and is based on my own views and experiences as
a member of the Ballerina Language Design and Development team.</p></div><div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4"><h6 class="text-uppercase fw-bold"><i class='bi bi-collection'></i> See Also</h6><p class=m-1><a class=text-reset href=/videos/ title="Bal.Tips Videos"><i class="bi bi-youtube"></i>
Bal.Tips Videos</a></p><p class=m-1><a class=text-reset href=/news/ title="Ballerina News"><i class="bi bi-newspaper"></i>
Ballerina News</a></p><h6 class="text-uppercase fw-bold mt-4"><i class='bi bi-info-circle'></i> About</h6><p class=m-1><a class=text-reset href=/copyrights/ title=Copyrights><i class="bi bi-c-circle"></i>
Copyrights</a></p><p class=m-1><a class=text-reset target=_blank href=https://hasithaa.github.io/ title="About Author"><i class="bi bi-person-circle"></i>
About Author</a></p><p class=m-1><a class=text-reset target=_blank href=https://github.com/hasithaa/bal.tips title="Website Source"><i class="bi bi-git"></i>
Website Source</a></p><p class=m-1><a class=text-reset target=_blank href=https://github.com/hasithaa/bal.tips title="Report an Issue"><i class="bi bi-bug"></i>
Report an Issue</a></p></div><div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4"><h6 class="text-uppercase fw-bold"><i class='bi bi-collection'></i> Ballerina</h6><p class=m-1><a class=text-reset target=_blank href=https://ballerina.io title=Website><i class="bi bi-box-arrow-up-right"></i>
Website</a></p><p class=m-1><a class=text-reset target=_blank href=https://ballerina.io/learn/by-example/ title="By Example"><i class="bi bi-box-arrow-up-right"></i>
By Example</a></p><p class=m-1><a class=text-reset target=_blank href=https://ballerina.io/spec/lang/master/ title="Language Specification"><i class="bi bi-box-arrow-up-right"></i>
Language Specification</a></p><p class=m-1><a class=text-reset target=_blank href=https://twitter.com/ballerinalang title="Twitter Handler"><i class="bi bi-twitter"></i>
Twitter Handler</a></p><p class=m-1><a class=text-reset target=_blank href=https://discord.gg/ballerinalang title="Talk to Community"><i class="bi bi-discord"></i>
Talk to Community</a></p></div></div></div></section><section class="d-flex justify-content-center justify-content-lg-between p-1 border-bottom bg-light"><div class="ms-auto mx-3 d-none d-lg-block"><span>Get connected with me on social networks</span></div><div><a href=https://twitter.com/HasithaAravinda class="me-4 link-secondary" title=Twitter><i class="bi bi-twitter"></i> Twitter</a>
<a href=https://github.com/hasithaa class="me-4 link-secondary" title=GitHub><i class="bi bi-github"></i> GitHub</a>
<a href=https://www.linkedin.com/in/hasithaaravinda/ class="me-4 link-secondary" title=LinkedIn><i class="bi bi-linkedin"></i> LinkedIn</a></div></section><section class="text-center p-4 bg-white bg-gradient d-none bg-white" id=footer-note><div class=w-100><span class=m-3>Notice : While most of the posts are currently a work in progress, I&rsquo;m committed to adding new content regularly.<br>Stay tuned for some exciting Ballerina coding tips and tutorials that will be coming your way soon!<br>Thank you for your patience and support.</span><br><button type=button class="btn btn-secondary" aria-label=Close id=footer-note-x-button>
Close</button></div></section><div class="text-center p-4 bg-white bg-gradient" style=background-color:rgba(0,0,0,.025)><a class="text-reset fw-bold" title="bal.tips by Hasitha Aravinda" href=https://hasithaa.github.io/>bal.tips by Hasitha Aravinda</a>
<i class="bi bi-c-circle"></i> 2022 - 2023</div></footer><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.3.0/mdb.min.js></script></body></html>